### 一. 材质

通过之前的学习我们可以知道一个物体是由`形状` `+` `材质` 组成的，那么一个正方体为什么可以是一个包装盒又可以是一个箱子呢？
其实他是因为他们的添加了不同的纹理贴图而已。

<a to="/threejs-demo/06.material/01.mapdemo">纹理贴图 demo</a>

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import Basic from '!!raw-loader!../../src/pages/threejs-demo/06.material/01.mapdemo';

<Tabs>
  <TabsItem value="mapdemo" label="threejs">
    <CodeBlock language="tsx">{Basic}</CodeBlock>
  </TabsItem>
  
</Tabs>

```js
// 核心代码如下

import colorImg from "@site/static/textures/door/color.jpg";
// 添加纹理加载器
const textureLoader = new THREE.TextureLoader();
const colorTexture = textureLoader.load(colorImg);
// 创建物体
const geometry = new THREE.BoxGeometry(1, 1, 1);
const material = new THREE.MeshBasicMaterial({
  color: "red",
  map: colorTexture,
});
```

### 二.threejs 中<a to="/threejs-demo/06.material/02.vectordemo">矢量图</a>处理

import Vector from '!!raw-loader!../../src/pages/threejs-demo/06.material/02.vectordemo';

<Tabs>
  <TabsItem value="mapdemo" label="threejs">
    <CodeBlock language="tsx">{Vector}</CodeBlock>
  </TabsItem>
</Tabs>

我们从效果上来看是非常的模糊的，那是因为默认情况下`threejs`在加载纹理的时候是`LinearFilter`

下面是官网的解释：

`LinearFilter`是默认值，返回距离指定的纹理坐标最近的四个纹理元素的加权平均值， 并且可以包含纹理的其他部分中，被包裹或者被重复的项目，具体取决于 wrapS 和 wrapT 的值，and on the exact mapping。

这种效果并不是我们想要的，`threejs`可以通过设置纹理来改变，下面是他的代码

将我们的物体宽度像素的最近值进行加载，比如说假如宽度是`512 * 512`,而图片的像素为`16 * 16`,那么`threejs`会不断的对半分，然后找最近的进行加载，他会分成`216 * 216`,`108 * 108`,`54 * 54`,`27 * 27`,`13.5 * 13.5`,最终以 `13.5 * 13.5`进行渲染。

```js
colorTexture.minFilter = THREE.NearestFilter;
colorTexture.magFilter = THREE.NearestFilter;
```

<a to="/threejs-demo/06.material/03.vectorresult">设置之后的效果</a>

### 三. `threejs`中的<a to="/threejs-demo/06.material/04.transparentTexture">透明贴图效果</a>

```js
import transparentImg from "@site/static/textures/door/alpha.jpg";

const transparentTexture = textureLoader.load(transparentImg);

const material = new THREE.MeshBasicMaterial({
  color: "yellow",
  map: colorTexture,
  transparent: true, // 必须设置透明
  alphaMap: transparentTexture, // 添加透明贴图
});
```
