### 一.`threejs`中的物体

前置知识:

- 一个物体的面都是由很多个三角形组成
- 一个三角形是由三个点组成
- 每个点又是由`x`,`y`,`z`组成的`三元组` 组成的.

### 二.通过`BufferGeometry`来<a to="/threejs-demo/05.geometry/01.buffergeometry">实现一个面</a>

之前我们是用`threejs`中直接封装好的`BoxGeometry`,当我们想要通过自定义的点来形成一个物体的时候就需要使用`BufferGeometry`

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import Basic from '!!raw-loader!../../src/pages/threejs-demo/05.geometry/01.buffergeometry';

<Tabs>
  <TabsItem value="buffergeometry" label="threejs">
    <CodeBlock language="tsx">{Basic}</CodeBlock>
  </TabsItem>
</Tabs>

```js
// 核心代码
const geometry = new THREE.BufferGeometry();
const vertices = new Float32Array([
  -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, 1.0, 1.0,

  1.0, 1.0, 1.0, -1.0, 1.0, 1.0, -1.0, -1.0, 1.0,
]);

// itemSize = 3 因为每个顶点都是一个三元组。
geometry.setAttribute("position", new THREE.BufferAttribute(vertices, 3));
```

### 三. 通过上面的理论，下面实现一个具有科技感的<a to="/threejs-demo/05.geometry/02.triangle">三角形 demo</a>

```js
// 核心代码如下所示

// 随机创建50个三角形
for (let i = 0; i < 50; i++) {
  const geometry = new THREE.BufferGeometry();
  const vertices = new Float32Array(9);
  for (let j = 0; j < 9; j++) {
    vertices[j] = Math.random() * 5;
  }

  geometry.setAttribute("position", new THREE.BufferAttribute(vertices, 3));
  const color = new THREE.Color(Math.random(), Math.random(), Math.random());
  const material = new THREE.MeshBasicMaterial({
    color,
    transparent: true,
    opacity: 0.5,
  });
  const cube = new THREE.Mesh(geometry, material);
  scene.add(cube);
}
```
